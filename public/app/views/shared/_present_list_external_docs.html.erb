<% if list.kind_of? Hash %>
  <% list.each do |k,v| %>
    <h3><%= k %></h3>
    <ul class="present_list <%= list_clss %>">
      <% v.each do |item | %>
        <li>
          <% unless item['inherit'].blank? %>
            <%= item['inherit'].html_safe %>
          <% end %>
          <% if item['uri'].present? %>
            <a href="<%= item['uri'] %>" target="_blank" rel="noopener noreferrer">
              <%= raw(process_mixed_content(item['title'])) %>
              <i class="fa fa-external-link" aria-hidden="true"></i>
            </a>
          <% else %>
            <%= raw(process_mixed_content(item['title'])) %>
          <% end %>
        </li>
      <% end %>
    </ul>
  <% end %>
<% else %>
  <ul class="present_list <%= list_clss %>">
    <% list.each do |item| %>
      <li>
        <% if list_clss == 'subjects_list' && item['jsonmodel_type'].start_with?('agent_') %>
          <a href="<%= item['uri'] %>">
            <%= raw(process_mixed_content(item['title'])) %>
          </a>
          <% if item['_relator'] %>
            (<%= t("enumerations.linked_agent_archival_record_relators.#{item['_relator']}", :default => item['_relator'])  %>)
          <% end %>
          <%= item['_terms'].map{|t| " -- #{t['term']}"}.join %>
        <% else %>
          <% if item.kind_of? Hash %>
            <% if item['uri'].present? %>
              <a href="<%= item['uri'] %>" target="_blank" rel="noopener noreferrer">
                <%= raw(process_mixed_content(item['title'])) %>
                <i class="fa fa-external-link" aria-hidden="true"></i>
              </a>
            <% else %>
              <%= raw(process_mixed_content(item['title'])) %>
            <% end %>
          <% else %>
            <%= item %>
          <% end %>
        <% end %>
      </li>
    <% end %>
  </ul>
<% end %>
