<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Module: SearchHelper
  
    &mdash; Documentation by YARD 0.9.20
  
</title>

  <link rel="stylesheet" href="css/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="css/common.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  pathId = "SearchHelper";
  relpath = '';
</script>


  <script type="text/javascript" charset="utf-8" src="js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="alpha_index.html">Index (S)</a> &raquo;
    
    
    <span class="title">SearchHelper</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><h1>Module: SearchHelper
  
  
  
</h1>
<div class="box_info">
  

  
  
  
  
  

  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>frontend/app/helpers/search_helper.rb</dd>
  </dl>
  
</div>

<h2>Defined Under Namespace</h2>
<p class="children">
  
    
  
    
      <strong class="classes">Classes:</strong> <span class='object_link'><a href="SearchHelper/SearchColumn.html" title="SearchHelper::SearchColumn (class)">SearchColumn</a></span>
    
  
    
  
</p>

  
    <h2>
      Constant Summary
      <small><a href="#" class="constants_summary_toggle">collapse</a></small>
    </h2>

    <dl class="constants">
      
        <dt id="IDENTIFIER_FOR_SEARCH_RESULT_LOOKUP-constant" class="">IDENTIFIER_FOR_SEARCH_RESULT_LOOKUP =
          
        </dt>
        <dd><pre class="code"><span class='lbrace token'>{</span>
  <span class='string val'>&quot;accession&quot;</span>                <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;identifier&quot;</span><span class='comma token'>,</span>
  <span class='string val'>&quot;agent_corporate_entity&quot;</span>   <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;authority_id&quot;</span><span class='comma token'>,</span>
  <span class='string val'>&quot;agent_family&quot;</span>             <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;authority_id&quot;</span><span class='comma token'>,</span>
  <span class='string val'>&quot;agent_person&quot;</span>             <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;authority_id&quot;</span><span class='comma token'>,</span>
  <span class='string val'>&quot;agent_software&quot;</span>           <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;authority_id&quot;</span><span class='comma token'>,</span>
  <span class='string val'>&quot;archival_object&quot;</span>          <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;component_id&quot;</span><span class='comma token'>,</span>
  <span class='string val'>&quot;assessment&quot;</span>               <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;assessment_id&quot;</span><span class='comma token'>,</span>
  <span class='string val'>&quot;classification&quot;</span>           <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;identifier&quot;</span><span class='comma token'>,</span>
  <span class='string val'>&quot;classification_term&quot;</span>      <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;identifier&quot;</span><span class='comma token'>,</span>
  <span class='string val'>&quot;digital_object&quot;</span>           <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;digital_object_id&quot;</span><span class='comma token'>,</span>
  <span class='string val'>&quot;digital_object_component&quot;</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;component_id&quot;</span><span class='comma token'>,</span>
  <span class='string val'>&quot;event&quot;</span>                    <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;refid&quot;</span><span class='comma token'>,</span>
  <span class='string val'>&quot;repository&quot;</span>               <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;repo_code&quot;</span><span class='comma token'>,</span>
  <span class='string val'>&quot;resource&quot;</span>                 <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;identifier&quot;</span><span class='comma token'>,</span>
  <span class='string val'>&quot;subject&quot;</span>                  <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;authority_id&quot;</span><span class='comma token'>,</span>
<span class='rbrace token'>}</span>
</pre></dd>
      
    </dl>
  







  
    <h2>
      Instance Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#add_actions_column-instance_method" title="#add_actions_column (instance method)">#<strong>add_actions_column</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#add_column-instance_method" title="#add_column (instance method)">#<strong>add_column</strong>(label, opts = {}, block = nil)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#add_columns-instance_method" title="#add_columns (instance method)">#<strong>add_columns</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#add_linker_column-instance_method" title="#add_linker_column (instance method)">#<strong>add_linker_column</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#add_multiselect_column-instance_method" title="#add_multiselect_column (instance method)">#<strong>add_multiselect_column</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#add_pref_columns-instance_method" title="#add_pref_columns (instance method)">#<strong>add_pref_columns</strong>(models)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#allow_multiselect%3F-instance_method" title="#allow_multiselect? (instance method)">#<strong>allow_multiselect?</strong>  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#build_search_params-instance_method" title="#build_search_params (instance method)">#<strong>build_search_params</strong>(opts = {})  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#can_delete_search_results%3F-instance_method" title="#can_delete_search_results? (instance method)">#<strong>can_delete_search_results?</strong>(record_type)  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#can_edit_search_result%3F-instance_method" title="#can_edit_search_result? (instance method)">#<strong>can_edit_search_result?</strong>(record)  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#column_opts-instance_method" title="#column_opts (instance method)">#<strong>column_opts</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#context_ancestor-instance_method" title="#context_ancestor (instance method)">#<strong>context_ancestor</strong>(result)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#context_separator-instance_method" title="#context_separator (instance method)">#<strong>context_separator</strong>(result)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#deleted-instance_method" title="#deleted (instance method)">#<strong>deleted</strong>(record)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#fields-instance_method" title="#fields (instance method)">#<strong>fields</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#get_ancestor_title-instance_method" title="#get_ancestor_title (instance method)">#<strong>get_ancestor_title</strong>(field)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#identifier_for_search_result-instance_method" title="#identifier_for_search_result (instance method)">#<strong>identifier_for_search_result</strong>(result)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#locales-instance_method" title="#locales (instance method)">#<strong>locales</strong>(model)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#multi_columns-instance_method" title="#multi_columns (instance method)">#<strong>multi_columns</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#process-instance_method" title="#process (instance method)">#<strong>process</strong>(data, opts)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#sr_only-instance_method" title="#sr_only (instance method)">#<strong>sr_only</strong>(text)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
    </ul>
  



  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="add_actions_column-instance_method">
  
    #<strong>add_actions_column</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


265
266
267
268</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'frontend/app/helpers/search_helper.rb', line 265</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_add_actions_column identifier id'>add_actions_column</span>
  <span class='rubyid_add_column identifier id'>add_column</span><span class='lparen token'>(</span><span class='rubyid_sr_only identifier id'>sr_only</span><span class='lparen token'>(</span><span class='string val'>&#39;Actions&#39;</span><span class='rparen token'>)</span><span class='comma token'>,</span> <span class='lbrace token'>{</span><span class='symbol val'>:template</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&#39;shared/actions&#39;</span><span class='comma token'>,</span>
    <span class='symbol val'>:class</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&#39;actions table-record-actions&#39;</span><span class='rbrace token'>}</span><span class='rparen token'>)</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="add_column-instance_method">
  
    #<strong>add_column</strong>(label, opts = {}, block = nil)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'frontend/app/helpers/search_helper.rb', line 158</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_add_column identifier id'>add_column</span><span class='lparen token'>(</span><span class='rubyid_label identifier id'>label</span><span class='comma token'>,</span> <span class='rubyid_opts identifier id'>opts</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span><span class='comma token'>,</span> <span class='rubyid_block identifier id'>block</span> <span class='assign token'>=</span> <span class='rubyid_nil nil kw'>nil</span><span class='rparen token'>)</span>
  <span class='rubyid_block identifier id'>block</span> <span class='opasgn op'>||=</span> <span class='rubyid_if if kw'>if</span> <span class='rubyid_opts identifier id'>opts</span><span class='lbrack token'>[</span><span class='symbol val'>:template</span><span class='rbrack token'>]</span>
    <span class='rubyid_proc identifier id'>proc</span> <span class='rubyid_do do kw'>do</span> <span class='bitor op'>|</span><span class='rubyid_record identifier id'>record</span><span class='bitor op'>|</span>
      <span class='rubyid_render_aspace_partial identifier id'>render_aspace_partial</span> <span class='symbol val'>:partial</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='rubyid_opts identifier id'>opts</span><span class='lbrack token'>[</span><span class='symbol val'>:template</span><span class='rbrack token'>]</span><span class='comma token'>,</span> <span class='symbol val'>:locals</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='lbrace token'>{</span><span class='symbol val'>:record</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='rubyid_record identifier id'>record</span><span class='rbrace token'>}</span>
    <span class='rubyid_end end kw'>end</span>
  <span class='rubyid_else else kw'>else</span>
    <span class='rubyid_proc identifier id'>proc</span> <span class='rubyid_do do kw'>do</span> <span class='bitor op'>|</span><span class='rubyid_record identifier id'>record</span><span class='bitor op'>|</span>
      <span class='rubyid_v identifier id'>v</span> <span class='assign token'>=</span> <span class='rubyid_Array constant id'>Array</span><span class='lparen token'>(</span><span class='rubyid_record identifier id'>record</span><span class='lbrack token'>[</span><span class='rubyid_opts identifier id'>opts</span><span class='lbrack token'>[</span><span class='symbol val'>:field</span><span class='rbrack token'>]</span><span class='rbrack token'>]</span> <span class='orop op'>||</span> <span class='rubyid_ASUtils constant id'>ASUtils</span><span class='dot token'>.</span><span class='rubyid_json_parse identifier id'>json_parse</span><span class='lparen token'>(</span><span class='rubyid_record identifier id'>record</span><span class='lbrack token'>[</span><span class='string val'>&#39;json&#39;</span><span class='rbrack token'>]</span><span class='rparen token'>)</span><span class='lbrack token'>[</span><span class='rubyid_opts identifier id'>opts</span><span class='lbrack token'>[</span><span class='symbol val'>:field</span><span class='rbrack token'>]</span><span class='rbrack token'>]</span><span class='rparen token'>)</span>
      <span class='rubyid_if if kw'>if</span> <span class='rubyid_v identifier id'>v</span><span class='dot token'>.</span><span class='rubyid_length identifier id'>length</span> <span class='gt op'>&gt;</span> <span class='integer val'>1</span>
        <span class='rubyid_content_tag identifier id'>content_tag</span><span class='lparen token'>(</span><span class='string val'>&#39;ul&#39;</span><span class='comma token'>,</span> <span class='symbol val'>:style</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&#39;padding-left: 20px;&#39;</span><span class='rparen token'>)</span> <span class='lbrace token'>{</span>
          <span class='rubyid_Array constant id'>Array</span><span class='lparen token'>(</span><span class='rubyid_v identifier id'>v</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='rubyid_collect identifier id'>collect</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='rubyid_i identifier id'>i</span><span class='bitor op'>|</span>
            <span class='rubyid_content_tag identifier id'>content_tag</span><span class='lparen token'>(</span><span class='string val'>&#39;li&#39;</span><span class='comma token'>,</span>
              <span class='rubyid_process identifier id'>process</span><span class='lparen token'>(</span><span class='rubyid_i identifier id'>i</span><span class='comma token'>,</span> <span class='rubyid_opts identifier id'>opts</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
          <span class='rbrace token'>}</span><span class='dot token'>.</span><span class='rubyid_join identifier id'>join</span><span class='dot token'>.</span><span class='rubyid_html_safe identifier id'>html_safe</span>
        <span class='rbrace token'>}</span>
      <span class='rubyid_elsif elsif kw'>elsif</span> <span class='rubyid_v identifier id'>v</span><span class='dot token'>.</span><span class='rubyid_length identifier id'>length</span> <span class='eq op'>==</span> <span class='integer val'>1</span>
        <span class='rubyid_process identifier id'>process</span><span class='lparen token'>(</span><span class='rubyid_v identifier id'>v</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='rbrack token'>]</span><span class='comma token'>,</span> <span class='rubyid_opts identifier id'>opts</span><span class='rparen token'>)</span>
      <span class='rubyid_end end kw'>end</span>
    <span class='rubyid_end end kw'>end</span>
  <span class='rubyid_end end kw'>end</span>

  <span class='rubyid_@columns ivar id'>@columns</span> <span class='opasgn op'>||=</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span>

  <span class='rubyid_if if kw'>if</span> <span class='rubyid_opts identifier id'>opts</span><span class='lbrack token'>[</span><span class='symbol val'>:sort_by</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='rubyid_is_a? fid id'>is_a?</span> <span class='rubyid_Array constant id'>Array</span>
    <span class='rubyid_opts identifier id'>opts</span><span class='lbrack token'>[</span><span class='symbol val'>:sort_by</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='rubyid_each identifier id'>each</span> <span class='rubyid_do do kw'>do</span> <span class='bitor op'>|</span><span class='rubyid_field identifier id'>field</span><span class='bitor op'>|</span>
      <span class='rubyid_model identifier id'>model</span> <span class='assign token'>=</span> <span class='rubyid_opts identifier id'>opts</span><span class='lbrack token'>[</span><span class='symbol val'>:model</span><span class='rbrack token'>]</span> <span class='orop op'>||</span> <span class='string val'>&#39;multi&#39;</span>
      <span class='rubyid_@search_data ivar id'>@search_data</span><span class='dot token'>.</span><span class='rubyid_add_sort_field identifier id'>add_sort_field</span><span class='lparen token'>(</span><span class='rubyid_field identifier id'>field</span><span class='comma token'>,</span> <span class='rubyid_I18n constant id'>I18n</span><span class='dot token'>.</span><span class='rubyid_t identifier id'>t</span><span class='lparen token'>(</span><span class='dstring node'>&quot;search.#{model}.#{field}&quot;</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
    <span class='rubyid_end end kw'>end</span>
  <span class='rubyid_elsif elsif kw'>elsif</span> <span class='rubyid_opts identifier id'>opts</span><span class='lbrack token'>[</span><span class='symbol val'>:sortable</span><span class='rbrack token'>]</span>
    <span class='rubyid_opts identifier id'>opts</span><span class='lbrack token'>[</span><span class='symbol val'>:sort_by</span><span class='rbrack token'>]</span> <span class='opasgn op'>||=</span> <span class='rubyid_opts identifier id'>opts</span><span class='lbrack token'>[</span><span class='symbol val'>:field</span><span class='rbrack token'>]</span>
    <span class='rubyid_@search_data ivar id'>@search_data</span><span class='dot token'>.</span><span class='rubyid_add_sort_field identifier id'>add_sort_field</span><span class='lparen token'>(</span><span class='rubyid_opts identifier id'>opts</span><span class='lbrack token'>[</span><span class='symbol val'>:sort_by</span><span class='rbrack token'>]</span><span class='comma token'>,</span> <span class='rubyid_label identifier id'>label</span><span class='rparen token'>)</span>
  <span class='rubyid_end end kw'>end</span>

  <span class='rubyid_col identifier id'>col</span> <span class='assign token'>=</span> <span class='rubyid_SearchColumn constant id'>SearchColumn</span><span class='dot token'>.</span><span class='rubyid_new identifier id'>new</span><span class='lparen token'>(</span><span class='rubyid_label identifier id'>label</span><span class='comma token'>,</span> <span class='rubyid_block identifier id'>block</span><span class='comma token'>,</span> <span class='rubyid_opts identifier id'>opts</span><span class='comma token'>,</span> <span class='rubyid_@search_data ivar id'>@search_data</span><span class='rparen token'>)</span>
  <span class='rubyid_@columns ivar id'>@columns</span><span class='dot token'>.</span><span class='rubyid_insert identifier id'>insert</span><span class='lparen token'>(</span><span class='rubyid_opts identifier id'>opts</span><span class='lbrack token'>[</span><span class='symbol val'>:index</span><span class='rbrack token'>]</span> <span class='orop op'>||</span> <span class='integer val'>-1</span><span class='comma token'>,</span> <span class='rubyid_col identifier id'>col</span><span class='rparen token'>)</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="add_columns-instance_method">
  
    #<strong>add_columns</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'frontend/app/helpers/search_helper.rb', line 285</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_add_columns identifier id'>add_columns</span>
  <span class='rubyid_return return kw'>return</span> <span class='rubyid_if if_mod kw'>if</span> <span class='rubyid_@columns ivar id'>@columns</span>
  <span class='rubyid_type identifier id'>type</span> <span class='assign token'>=</span> <span class='rubyid_@search_data ivar id'>@search_data</span><span class='dot token'>.</span><span class='rubyid_get_type identifier id'>get_type</span>
  <span class='rubyid_type identifier id'>type</span> <span class='assign token'>=</span> <span class='string val'>&#39;agent&#39;</span> <span class='rubyid_if if_mod kw'>if</span> <span class='rubyid_type identifier id'>type</span><span class='dot token'>.</span><span class='rubyid_include? fid id'>include?</span> <span class='string val'>&#39;agent&#39;</span>
  <span class='rubyid_type identifier id'>type</span> <span class='assign token'>=</span> <span class='string val'>&#39;classification&#39;</span> <span class='rubyid_if if_mod kw'>if</span> <span class='rubyid_type identifier id'>type</span> <span class='eq op'>==</span> <span class='string val'>&#39;classification_term&#39;</span>

  <span class='rubyid_add_multiselect_column identifier id'>add_multiselect_column</span> <span class='rubyid_if if_mod kw'>if</span> <span class='rubyid_can_delete_search_results? fid id'>can_delete_search_results?</span><span class='lparen token'>(</span><span class='rubyid_type identifier id'>type</span><span class='rparen token'>)</span> <span class='andop op'>&amp;&amp;</span> <span class='notop op'>!</span><span class='lparen token'>(</span><span class='rubyid_request identifier id'>request</span><span class='dot token'>.</span><span class='rubyid_path identifier id'>path</span> <span class='match op'>=~</span> <span class='regexp val'>/\/(advanced_)*search/</span><span class='rparen token'>)</span>
  <span class='rubyid_add_linker_column identifier id'>add_linker_column</span> <span class='rubyid_if if_mod kw'>if</span> <span class='rubyid_params identifier id'>params</span><span class='lbrack token'>[</span><span class='symbol val'>:linker</span><span class='rbrack token'>]</span><span class='eqq op'>===</span><span class='string val'>&#39;true&#39;</span>

  <span class='rubyid_if if kw'>if</span> <span class='rubyid_params identifier id'>params</span><span class='lbrack token'>[</span><span class='symbol val'>:include_components</span><span class='rbrack token'>]</span>
    <span class='rubyid_case case kw'>case</span> <span class='rubyid_type identifier id'>type</span>
    <span class='rubyid_when when kw'>when</span> <span class='string val'>&#39;resource&#39;</span>
      <span class='rubyid_add_pref_columns identifier id'>add_pref_columns</span> <span class='lbrack token'>[</span><span class='string val'>&#39;resource&#39;</span><span class='comma token'>,</span> <span class='string val'>&#39;archival_object&#39;</span><span class='rbrack token'>]</span>
    <span class='rubyid_when when kw'>when</span> <span class='string val'>&#39;digital_object&#39;</span>
      <span class='rubyid_add_pref_columns identifier id'>add_pref_columns</span> <span class='lbrack token'>[</span><span class='string val'>&#39;digital_object&#39;</span><span class='comma token'>,</span> <span class='string val'>&#39;digital_object_component&#39;</span><span class='rbrack token'>]</span>
    <span class='rubyid_end end kw'>end</span>
  <span class='rubyid_else else kw'>else</span>
    <span class='rubyid_add_pref_columns identifier id'>add_pref_columns</span><span class='lparen token'>(</span><span class='rubyid_type identifier id'>type</span><span class='rparen token'>)</span>
  <span class='rubyid_end end kw'>end</span>

  <span class='rubyid_add_actions_column identifier id'>add_actions_column</span> <span class='rubyid_if if_mod kw'>if</span> <span class='notop op'>!</span><span class='rubyid_params identifier id'>params</span><span class='lbrack token'>[</span><span class='symbol val'>:linker</span><span class='rbrack token'>]</span> <span class='orop op'>||</span> <span class='rubyid_params identifier id'>params</span><span class='lbrack token'>[</span><span class='symbol val'>:linker</span><span class='rbrack token'>]</span> <span class='eqq op'>===</span> <span class='string val'>&#39;false&#39;</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="add_linker_column-instance_method">
  
    #<strong>add_linker_column</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


270
271
272
273
274
275
276
277
278
279</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'frontend/app/helpers/search_helper.rb', line 270</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_add_linker_column identifier id'>add_linker_column</span>
  <span class='rubyid_add_column identifier id'>add_column</span><span class='lparen token'>(</span><span class='rubyid_sr_only identifier id'>sr_only</span><span class='lparen token'>(</span><span class='string val'>&#39;Linker&#39;</span><span class='rparen token'>)</span><span class='comma token'>,</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span><span class='comma token'>,</span>
    <span class='rubyid_proc identifier id'>proc</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='rubyid_record identifier id'>record</span><span class='bitor op'>|</span>
      <span class='rubyid_if if kw'>if</span> <span class='rubyid_params identifier id'>params</span><span class='lbrack token'>[</span><span class='symbol val'>:multiplicity</span><span class='rbrack token'>]</span> <span class='eqq op'>===</span> <span class='string val'>&#39;many&#39;</span>
        <span class='rubyid_check_box_tag identifier id'>check_box_tag</span> <span class='string val'>&quot;linker-item&quot;</span><span class='comma token'>,</span> <span class='rubyid_record identifier id'>record</span><span class='lbrack token'>[</span><span class='string val'>&quot;id&quot;</span><span class='rbrack token'>]</span><span class='comma token'>,</span> <span class='rubyid_false false kw'>false</span><span class='comma token'>,</span> <span class='symbol val'>:&quot;data-object&quot;</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='rubyid_record identifier id'>record</span><span class='dot token'>.</span><span class='rubyid_to_json identifier id'>to_json</span>
      <span class='rubyid_else else kw'>else</span>
        <span class='rubyid_radio_button_tag identifier id'>radio_button_tag</span> <span class='string val'>&quot;linker-item&quot;</span><span class='comma token'>,</span> <span class='rubyid_record identifier id'>record</span><span class='lbrack token'>[</span><span class='string val'>&quot;id&quot;</span><span class='rbrack token'>]</span><span class='comma token'>,</span> <span class='rubyid_false false kw'>false</span><span class='comma token'>,</span> <span class='symbol val'>:&quot;data-object&quot;</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='rubyid_record identifier id'>record</span><span class='dot token'>.</span><span class='rubyid_to_json identifier id'>to_json</span>
      <span class='rubyid_end end kw'>end</span>
    <span class='rbrace token'>}</span><span class='rparen token'>)</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="add_multiselect_column-instance_method">
  
    #<strong>add_multiselect_column</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


211
212
213
214
215
216
217
218
219</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'frontend/app/helpers/search_helper.rb', line 211</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_add_multiselect_column identifier id'>add_multiselect_column</span>
  <span class='rubyid_@allow_multiselect ivar id'>@allow_multiselect</span> <span class='assign token'>=</span> <span class='rubyid_true true kw'>true</span>
  <span class='rubyid_header identifier id'>header</span> <span class='assign token'>=</span> <span class='lparen token'>(</span><span class='string val'>&#39;&lt;label for=&quot;select_all&quot; class=&quot;sr-only&quot;&gt;&#39;</span> <span class='plus op'>+</span>
    <span class='rubyid_I18n constant id'>I18n</span><span class='dot token'>.</span><span class='rubyid_t identifier id'>t</span><span class='lparen token'>(</span><span class='string val'>&quot;search_results.selected&quot;</span><span class='rparen token'>)</span> <span class='plus op'>+</span> <span class='string val'>&#39;&lt;/label&gt;&#39;</span> <span class='plus op'>+</span>
    <span class='rubyid_check_box_tag identifier id'>check_box_tag</span><span class='lparen token'>(</span><span class='string val'>&quot;select_all&quot;</span><span class='comma token'>,</span> <span class='integer val'>1</span><span class='comma token'>,</span> <span class='rubyid_false false kw'>false</span><span class='comma token'>,</span> <span class='string val'>&quot;autocomplete&quot;</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;off&quot;</span><span class='rparen token'>)</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='rubyid_html_safe identifier id'>html_safe</span>

  <span class='rubyid_add_column identifier id'>add_column</span><span class='lparen token'>(</span><span class='rubyid_header identifier id'>header</span><span class='comma token'>,</span> <span class='lbrace token'>{</span><span class='symbol val'>:template</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&#39;shared/multiselect&#39;</span><span class='comma token'>,</span>
    <span class='symbol val'>:class</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&#39;multiselect-column&#39;</span><span class='rbrace token'>}</span><span class='rparen token'>)</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="add_pref_columns-instance_method">
  
    #<strong>add_pref_columns</strong>(models)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'frontend/app/helpers/search_helper.rb', line 221</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_add_pref_columns identifier id'>add_pref_columns</span><span class='lparen token'>(</span><span class='rubyid_models identifier id'>models</span><span class='rparen token'>)</span>
  <span class='rubyid_models identifier id'>models</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='rubyid_models identifier id'>models</span><span class='rbrack token'>]</span> <span class='rubyid_unless unless_mod kw'>unless</span> <span class='rubyid_models identifier id'>models</span><span class='dot token'>.</span><span class='rubyid_is_a? fid id'>is_a?</span> <span class='rubyid_Array constant id'>Array</span>
  <span class='rubyid_added identifier id'>added</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span>
  <span class='rubyid_if if kw'>if</span> <span class='rubyid_models identifier id'>models</span><span class='dot token'>.</span><span class='rubyid_length identifier id'>length</span> <span class='gt op'>&gt;</span> <span class='integer val'>1</span>
    <span class='rubyid_add_column identifier id'>add_column</span><span class='lparen token'>(</span><span class='rubyid_I18n constant id'>I18n</span><span class='dot token'>.</span><span class='rubyid_t identifier id'>t</span><span class='lparen token'>(</span><span class='string val'>&quot;search.multi.primary_type&quot;</span><span class='rparen token'>)</span><span class='comma token'>,</span> <span class='lbrace token'>{</span><span class='symbol val'>:field</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&#39;primary_type&#39;</span><span class='comma token'>,</span> <span class='symbol val'>:locale_key</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&#39;_singular&#39;</span><span class='comma token'>,</span>
      <span class='symbol val'>:sortable</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='rubyid_true true kw'>true</span><span class='comma token'>,</span> <span class='symbol val'>:type</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&#39;string&#39;</span><span class='rbrace token'>}</span><span class='rparen token'>)</span>
    <span class='rubyid_added identifier id'>added</span> <span class='lshft op'>&lt;&lt;</span> <span class='string val'>&#39;primary_type&#39;</span>
  <span class='rubyid_end end kw'>end</span>
  <span class='rubyid_for for kw'>for</span> <span class='rubyid_n identifier id'>n</span> <span class='rubyid_in in kw'>in</span> <span class='float val'>1</span><span class='dot2 op'>..</span><span class='rubyid_AppConfig constant id'>AppConfig</span><span class='lbrack token'>[</span><span class='symbol val'>:max_search_columns</span><span class='rbrack token'>]</span>
    <span class='rubyid_models identifier id'>models</span><span class='dot token'>.</span><span class='rubyid_each identifier id'>each</span> <span class='rubyid_do do kw'>do</span> <span class='bitor op'>|</span><span class='rubyid_model identifier id'>model</span><span class='bitor op'>|</span>
      <span class='rubyid_prop identifier id'>prop</span> <span class='assign token'>=</span> <span class='rubyid_browse_columns identifier id'>browse_columns</span><span class='lbrack token'>[</span><span class='dstring node'>&quot;#{model}_browse_column_#{n}&quot;</span><span class='rbrack token'>]</span>
      <span class='comment val'># we do not want to display a column for no value or the relevancy score</span>
      <span class='rubyid_next next kw'>next</span> <span class='rubyid_if if_mod kw'>if</span> <span class='rubyid_added identifier id'>added</span><span class='dot token'>.</span><span class='rubyid_include? fid id'>include?</span><span class='lparen token'>(</span><span class='rubyid_prop identifier id'>prop</span><span class='rparen token'>)</span> <span class='orop op'>||</span> <span class='notop op'>!</span><span class='rubyid_prop identifier id'>prop</span> <span class='orop op'>||</span> <span class='rubyid_prop identifier id'>prop</span> <span class='eq op'>==</span> <span class='string val'>&#39;no_value&#39;</span> <span class='orop op'>||</span> <span class='rubyid_prop identifier id'>prop</span> <span class='eq op'>==</span> <span class='string val'>&#39;score&#39;</span>

      <span class='rubyid_added identifier id'>added</span> <span class='lshft op'>&lt;&lt;</span> <span class='rubyid_prop identifier id'>prop</span>
      <span class='rubyid_opts identifier id'>opts</span> <span class='assign token'>=</span> <span class='rubyid_column_opts identifier id'>column_opts</span><span class='lbrack token'>[</span><span class='rubyid_model identifier id'>model</span><span class='rbrack token'>]</span><span class='lbrack token'>[</span><span class='rubyid_prop identifier id'>prop</span><span class='rbrack token'>]</span>
      <span class='rubyid_opts identifier id'>opts</span><span class='lbrack token'>[</span><span class='symbol val'>:locale_key</span><span class='rbrack token'>]</span> <span class='opasgn op'>||=</span> <span class='rubyid_locales identifier id'>locales</span><span class='lparen token'>(</span><span class='rubyid_model identifier id'>model</span><span class='rparen token'>)</span><span class='lbrack token'>[</span><span class='rubyid_prop identifier id'>prop</span><span class='rbrack token'>]</span> <span class='orop op'>||</span> <span class='dstring node'>&quot;#{model}_#{prop}&quot;</span>
      <span class='rubyid_opts identifier id'>opts</span><span class='lbrack token'>[</span><span class='symbol val'>:model</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='rubyid_model identifier id'>model</span>
      <span class='comment val'># opts[:type] ||= &#39;string&#39;</span>
      <span class='rubyid_unless unless kw'>unless</span> <span class='rubyid_opts identifier id'>opts</span><span class='lbrack token'>[</span><span class='symbol val'>:template</span><span class='rbrack token'>]</span>
        <span class='rubyid_if if kw'>if</span> <span class='rubyid_lookup_context identifier id'>lookup_context</span><span class='dot token'>.</span><span class='rubyid_template_exists? fid id'>template_exists?</span><span class='lparen token'>(</span><span class='dstring node'>&quot;#{prop}_cell&quot;</span><span class='comma token'>,</span> <span class='dstring node'>&quot;#{model}s&quot;</span><span class='comma token'>,</span> <span class='rubyid_true true kw'>true</span><span class='rparen token'>)</span>
          <span class='rubyid_opts identifier id'>opts</span><span class='lbrack token'>[</span><span class='symbol val'>:template</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='dstring node'>&quot;#{model}s/#{prop}_cell&quot;</span>
        <span class='rubyid_elsif elsif kw'>elsif</span> <span class='rubyid_lookup_context identifier id'>lookup_context</span><span class='dot token'>.</span><span class='rubyid_template_exists? fid id'>template_exists?</span><span class='lparen token'>(</span><span class='dstring node'>&quot;#{prop}_cell&quot;</span><span class='comma token'>,</span> <span class='rubyid_model identifier id'>model</span><span class='comma token'>,</span> <span class='rubyid_true true kw'>true</span><span class='rparen token'>)</span>
          <span class='rubyid_opts identifier id'>opts</span><span class='lbrack token'>[</span><span class='symbol val'>:template</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='dstring node'>&quot;#{model}/#{prop}_cell&quot;</span>
        <span class='rubyid_elsif elsif kw'>elsif</span> <span class='rubyid_lookup_context identifier id'>lookup_context</span><span class='dot token'>.</span><span class='rubyid_template_exists? fid id'>template_exists?</span><span class='lparen token'>(</span><span class='dstring node'>&quot;#{prop}_cell&quot;</span><span class='comma token'>,</span> <span class='string val'>&#39;search&#39;</span><span class='comma token'>,</span> <span class='rubyid_true true kw'>true</span><span class='rparen token'>)</span>
          <span class='rubyid_opts identifier id'>opts</span><span class='lbrack token'>[</span><span class='symbol val'>:template</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='dstring node'>&quot;search/#{prop}_cell&quot;</span>
        <span class='rubyid_end end kw'>end</span>
      <span class='rubyid_end end kw'>end</span>
      <span class='rubyid_add_column identifier id'>add_column</span><span class='lparen token'>(</span><span class='rubyid_I18n constant id'>I18n</span><span class='dot token'>.</span><span class='rubyid_t identifier id'>t</span><span class='lparen token'>(</span><span class='dstring node'>&quot;search.#{model}.#{prop}&quot;</span><span class='rparen token'>)</span><span class='comma token'>,</span> <span class='rubyid_opts identifier id'>opts</span><span class='rparen token'>)</span>
    <span class='rubyid_end end kw'>end</span>
  <span class='rubyid_end end kw'>end</span>
  <span class='rubyid_models identifier id'>models</span><span class='dot token'>.</span><span class='rubyid_each identifier id'>each</span> <span class='rubyid_do do kw'>do</span> <span class='bitor op'>|</span><span class='rubyid_model identifier id'>model</span><span class='bitor op'>|</span>
    <span class='rubyid_prop identifier id'>prop</span> <span class='assign token'>=</span> <span class='rubyid_browse_columns identifier id'>browse_columns</span><span class='lbrack token'>[</span><span class='dstring node'>&quot;#{model}_sort_column&quot;</span><span class='rbrack token'>]</span>
    <span class='rubyid_next next kw'>next</span> <span class='rubyid_if if_mod kw'>if</span> <span class='rubyid_added identifier id'>added</span><span class='dot token'>.</span><span class='rubyid_include? fid id'>include?</span><span class='lparen token'>(</span><span class='rubyid_prop identifier id'>prop</span><span class='rparen token'>)</span> <span class='orop op'>||</span> <span class='notop op'>!</span><span class='rubyid_prop identifier id'>prop</span>
    <span class='rubyid_added identifier id'>added</span> <span class='lshft op'>&lt;&lt;</span> <span class='rubyid_prop identifier id'>prop</span>
    <span class='rubyid_opts identifier id'>opts</span> <span class='assign token'>=</span> <span class='rubyid_prop identifier id'>prop</span> <span class='eq op'>==</span> <span class='string val'>&#39;score&#39;</span> <span class='question op'>?</span> <span class='lbrace token'>{</span> <span class='label val'>sort_by:</span> <span class='string val'>&#39;score&#39;</span> <span class='rbrace token'>}</span> <span class='colon op'>:</span> <span class='rubyid_column_opts identifier id'>column_opts</span><span class='lbrack token'>[</span><span class='rubyid_model identifier id'>model</span><span class='rbrack token'>]</span><span class='lbrack token'>[</span><span class='rubyid_prop identifier id'>prop</span><span class='rbrack token'>]</span>
    <span class='rubyid_@search_data ivar id'>@search_data</span><span class='dot token'>.</span><span class='rubyid_add_sort_field identifier id'>add_sort_field</span><span class='lparen token'>(</span><span class='rubyid_opts identifier id'>opts</span><span class='lbrack token'>[</span><span class='symbol val'>:sort_by</span><span class='rbrack token'>]</span> <span class='question op'>?</span> <span class='rubyid_opts identifier id'>opts</span><span class='lbrack token'>[</span><span class='symbol val'>:sort_by</span><span class='rbrack token'>]</span><span class='colon op'>:</span> <span class='rubyid_prop identifier id'>prop</span><span class='comma token'>,</span> <span class='rubyid_I18n constant id'>I18n</span><span class='dot token'>.</span><span class='rubyid_t identifier id'>t</span><span class='lparen token'>(</span><span class='dstring node'>&quot;search.#{model}.#{prop}&quot;</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
  <span class='rubyid_end end kw'>end</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="allow_multiselect?-instance_method">
  
    #<strong>allow_multiselect?</strong>  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


89
90
91</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'frontend/app/helpers/search_helper.rb', line 89</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_allow_multiselect? fid id'>allow_multiselect?</span>
  <span class='rubyid_@allow_multiselect ivar id'>@allow_multiselect</span> <span class='opasgn op'>||=</span> <span class='rubyid_false false kw'>false</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="build_search_params-instance_method">
  
    #<strong>build_search_params</strong>(opts = {})  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'frontend/app/helpers/search_helper.rb', line 34</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_build_search_params identifier id'>build_search_params</span><span class='lparen token'>(</span><span class='rubyid_opts identifier id'>opts</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span><span class='rparen token'>)</span>

  <span class='rubyid_removing_record_type_filter identifier id'>removing_record_type_filter</span> <span class='assign token'>=</span> <span class='rubyid_false false kw'>false</span>
  <span class='rubyid_Array constant id'>Array</span><span class='lparen token'>(</span><span class='rubyid_opts identifier id'>opts</span><span class='lbrack token'>[</span><span class='string val'>&quot;remove_filter_term&quot;</span><span class='rbrack token'>]</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='rubyid_each identifier id'>each</span> <span class='rubyid_do do kw'>do</span> <span class='bitor op'>|</span><span class='rubyid_filter_term identifier id'>filter_term</span><span class='bitor op'>|</span>
    <span class='rubyid_removing_record_type_filter identifier id'>removing_record_type_filter</span> <span class='assign token'>=</span> <span class='rubyid_true true kw'>true</span> <span class='rubyid_if if_mod kw'>if</span> <span class='rubyid_ASUtils constant id'>ASUtils</span><span class='dot token'>.</span><span class='rubyid_json_parse identifier id'>json_parse</span><span class='lparen token'>(</span><span class='rubyid_filter_term identifier id'>filter_term</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='rubyid_keys identifier id'>keys</span><span class='dot token'>.</span><span class='rubyid_include? fid id'>include?</span> <span class='string val'>&#39;primary_type&#39;</span>
  <span class='rubyid_end end kw'>end</span>

  <span class='rubyid_search_params identifier id'>search_params</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span>

  <span class='rubyid_search_params identifier id'>search_params</span><span class='lbrack token'>[</span><span class='string val'>&quot;filter_term&quot;</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='rubyid_Array constant id'>Array</span><span class='lparen token'>(</span><span class='rubyid_opts identifier id'>opts</span><span class='lbrack token'>[</span><span class='string val'>&quot;filter_term&quot;</span><span class='rbrack token'>]</span> <span class='orop op'>||</span> <span class='rubyid_params identifier id'>params</span><span class='lbrack token'>[</span><span class='string val'>&quot;filter_term&quot;</span><span class='rbrack token'>]</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='rubyid_clone identifier id'>clone</span>
  <span class='rubyid_search_params identifier id'>search_params</span><span class='lbrack token'>[</span><span class='string val'>&quot;filter_term&quot;</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='rubyid_concat identifier id'>concat</span><span class='lparen token'>(</span><span class='rubyid_Array constant id'>Array</span><span class='lparen token'>(</span><span class='rubyid_opts identifier id'>opts</span><span class='lbrack token'>[</span><span class='string val'>&quot;add_filter_term&quot;</span><span class='rbrack token'>]</span><span class='rparen token'>)</span><span class='rparen token'>)</span> <span class='rubyid_if if_mod kw'>if</span> <span class='rubyid_opts identifier id'>opts</span><span class='lbrack token'>[</span><span class='string val'>&quot;add_filter_term&quot;</span><span class='rbrack token'>]</span>
  <span class='rubyid_search_params identifier id'>search_params</span><span class='lbrack token'>[</span><span class='string val'>&quot;filter_term&quot;</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='rubyid_search_params identifier id'>search_params</span><span class='lbrack token'>[</span><span class='string val'>&quot;filter_term&quot;</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='rubyid_reject identifier id'>reject</span><span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='rubyid_f identifier id'>f</span><span class='bitor op'>|</span> <span class='rubyid_Array constant id'>Array</span><span class='lparen token'>(</span><span class='rubyid_opts identifier id'>opts</span><span class='lbrack token'>[</span><span class='string val'>&quot;remove_filter_term&quot;</span><span class='rbrack token'>]</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='rubyid_include? fid id'>include?</span><span class='lparen token'>(</span><span class='rubyid_f identifier id'>f</span><span class='rparen token'>)</span><span class='rbrace token'>}</span> <span class='rubyid_if if_mod kw'>if</span> <span class='rubyid_opts identifier id'>opts</span><span class='lbrack token'>[</span><span class='string val'>&quot;remove_filter_term&quot;</span><span class='rbrack token'>]</span>
  <span class='rubyid_search_params identifier id'>search_params</span><span class='lbrack token'>[</span><span class='string val'>&quot;filter_term&quot;</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='rubyid_search_params identifier id'>search_params</span><span class='lbrack token'>[</span><span class='string val'>&quot;filter_term&quot;</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='rubyid_select identifier id'>select</span><span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='rubyid_f identifier id'>f</span><span class='bitor op'>|</span> <span class='rubyid_SearchResultData constant id'>SearchResultData</span><span class='dot token'>.</span><span class='rubyid_BASE_FACETS constant id'>BASE_FACETS</span><span class='dot token'>.</span><span class='rubyid_include? fid id'>include?</span><span class='lparen token'>(</span><span class='rubyid_ASUtils constant id'>ASUtils</span><span class='dot token'>.</span><span class='rubyid_json_parse identifier id'>json_parse</span><span class='lparen token'>(</span><span class='rubyid_f identifier id'>f</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='rubyid_keys identifier id'>keys</span><span class='dot token'>.</span><span class='rubyid_first identifier id'>first</span><span class='rparen token'>)</span><span class='rbrace token'>}</span> <span class='rubyid_if if_mod kw'>if</span> <span class='rubyid_removing_record_type_filter identifier id'>removing_record_type_filter</span>

  <span class='rubyid_sort identifier id'>sort</span> <span class='assign token'>=</span> <span class='lparen token'>(</span><span class='rubyid_opts identifier id'>opts</span><span class='lbrack token'>[</span><span class='string val'>&quot;sort&quot;</span><span class='rbrack token'>]</span> <span class='orop op'>||</span> <span class='rubyid_params identifier id'>params</span><span class='lbrack token'>[</span><span class='string val'>&quot;sort&quot;</span><span class='rbrack token'>]</span> <span class='orop op'>||</span> <span class='lparen token'>(</span><span class='rubyid_@search_data ivar id'>@search_data</span> <span class='question op'>?</span> <span class='rubyid_@search_data ivar id'>@search_data</span><span class='dot token'>.</span><span class='rubyid_sorted? fid id'>sorted?</span> <span class='colon op'>:</span> <span class='rubyid_nil nil kw'>nil</span><span class='rparen token'>)</span><span class='rparen token'>)</span>

  <span class='rubyid_if if kw'>if</span> <span class='rubyid_sort identifier id'>sort</span>
    <span class='rubyid_sort identifier id'>sort</span> <span class='assign token'>=</span> <span class='rubyid_sort identifier id'>sort</span><span class='dot token'>.</span><span class='rubyid_split identifier id'>split</span><span class='lparen token'>(</span><span class='string val'>&#39;, &#39;</span><span class='rparen token'>)</span>
    <span class='rubyid_sort identifier id'>sort</span><span class='lbrack token'>[</span><span class='integer val'>1</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='rubyid_opts identifier id'>opts</span><span class='lbrack token'>[</span><span class='string val'>&quot;sort2&quot;</span><span class='rbrack token'>]</span> <span class='rubyid_if if_mod kw'>if</span> <span class='rubyid_opts identifier id'>opts</span><span class='lbrack token'>[</span><span class='string val'>&quot;sort2&quot;</span><span class='rbrack token'>]</span>
    <span class='rubyid_fields identifier id'>fields</span> <span class='assign token'>=</span> <span class='rubyid_sort identifier id'>sort</span><span class='dot token'>.</span><span class='rubyid_uniq identifier id'>uniq</span>
    <span class='rubyid_fields identifier id'>fields</span> <span class='assign token'>=</span> <span class='rubyid_fields identifier id'>fields</span><span class='dot token'>.</span><span class='rubyid_select identifier id'>select</span> <span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='rubyid_f identifier id'>f</span><span class='bitor op'>|</span> <span class='rubyid_multi_columns identifier id'>multi_columns</span><span class='dot token'>.</span><span class='rubyid_compact identifier id'>compact</span><span class='dot token'>.</span><span class='rubyid_include? fid id'>include?</span><span class='lparen token'>(</span><span class='rubyid_f identifier id'>f</span><span class='dot token'>.</span><span class='rubyid_split identifier id'>split</span><span class='dot token'>.</span><span class='rubyid_first identifier id'>first</span><span class='rparen token'>)</span><span class='rbrace token'>}</span> <span class='rubyid_if if_mod kw'>if</span> <span class='rubyid_removing_record_type_filter identifier id'>removing_record_type_filter</span>
    <span class='rubyid_search_params identifier id'>search_params</span><span class='lbrack token'>[</span><span class='string val'>&quot;sort&quot;</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='rubyid_fields identifier id'>fields</span><span class='dot token'>.</span><span class='rubyid_join identifier id'>join</span><span class='lparen token'>(</span><span class='string val'>&#39;, &#39;</span><span class='rparen token'>)</span>
  <span class='rubyid_end end kw'>end</span>

  <span class='rubyid_if if kw'>if</span> <span class='lparen token'>(</span><span class='rubyid_opts identifier id'>opts</span><span class='lbrack token'>[</span><span class='string val'>&quot;format&quot;</span><span class='rbrack token'>]</span> <span class='orop op'>||</span> <span class='rubyid_params identifier id'>params</span><span class='lbrack token'>[</span><span class='string val'>&quot;format&quot;</span><span class='rbrack token'>]</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='rubyid_blank? fid id'>blank?</span>
    <span class='rubyid_search_params identifier id'>search_params</span><span class='dot token'>.</span><span class='rubyid_delete identifier id'>delete</span><span class='lparen token'>(</span><span class='string val'>&quot;format&quot;</span><span class='rparen token'>)</span>
  <span class='rubyid_else else kw'>else</span>
    <span class='rubyid_search_params identifier id'>search_params</span><span class='lbrack token'>[</span><span class='string val'>&quot;format&quot;</span><span class='rbrack token'>]</span> <span class='assign token'>=</span>  <span class='rubyid_opts identifier id'>opts</span><span class='lbrack token'>[</span><span class='string val'>&quot;format&quot;</span><span class='rbrack token'>]</span> <span class='orop op'>||</span> <span class='rubyid_params identifier id'>params</span><span class='lbrack token'>[</span><span class='string val'>&quot;format&quot;</span><span class='rbrack token'>]</span>
  <span class='rubyid_end end kw'>end</span>

  <span class='rubyid_search_params identifier id'>search_params</span><span class='lbrack token'>[</span><span class='string val'>&quot;multiplicity&quot;</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='rubyid_params identifier id'>params</span><span class='lbrack token'>[</span><span class='string val'>&quot;multiplicity&quot;</span><span class='rbrack token'>]</span> <span class='rubyid_if if_mod kw'>if</span> <span class='rubyid_params identifier id'>params</span><span class='lbrack token'>[</span><span class='string val'>&quot;multiplicity&quot;</span><span class='rbrack token'>]</span>
  <span class='rubyid_search_params identifier id'>search_params</span><span class='lbrack token'>[</span><span class='string val'>&quot;linker&quot;</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='rubyid_opts identifier id'>opts</span><span class='lbrack token'>[</span><span class='string val'>&quot;linker&quot;</span><span class='rbrack token'>]</span> <span class='orop op'>||</span> <span class='rubyid_params identifier id'>params</span><span class='lbrack token'>[</span><span class='string val'>&quot;linker&quot;</span><span class='rbrack token'>]</span> <span class='orop op'>||</span> <span class='rubyid_false false kw'>false</span>
  <span class='rubyid_search_params identifier id'>search_params</span><span class='lbrack token'>[</span><span class='string val'>&quot;type&quot;</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='rubyid_opts identifier id'>opts</span><span class='lbrack token'>[</span><span class='string val'>&quot;type&quot;</span><span class='rbrack token'>]</span> <span class='orop op'>||</span> <span class='rubyid_params identifier id'>params</span><span class='lbrack token'>[</span><span class='string val'>&quot;type&quot;</span><span class='rbrack token'>]</span>
  <span class='rubyid_search_params identifier id'>search_params</span><span class='lbrack token'>[</span><span class='string val'>&quot;facets&quot;</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='rubyid_opts identifier id'>opts</span><span class='lbrack token'>[</span><span class='string val'>&quot;facets&quot;</span><span class='rbrack token'>]</span> <span class='orop op'>||</span> <span class='rubyid_params identifier id'>params</span><span class='lbrack token'>[</span><span class='string val'>&quot;facets&quot;</span><span class='rbrack token'>]</span> <span class='rubyid_unless unless_mod kw'>unless</span> <span class='rubyid_removing_record_type_filter identifier id'>removing_record_type_filter</span>
  <span class='rubyid_search_params identifier id'>search_params</span><span class='lbrack token'>[</span><span class='string val'>&quot;exclude&quot;</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='rubyid_opts identifier id'>opts</span><span class='lbrack token'>[</span><span class='string val'>&quot;exclude&quot;</span><span class='rbrack token'>]</span> <span class='orop op'>||</span> <span class='rubyid_params identifier id'>params</span><span class='lbrack token'>[</span><span class='string val'>&quot;exclude&quot;</span><span class='rbrack token'>]</span>
  <span class='rubyid_search_params identifier id'>search_params</span><span class='lbrack token'>[</span><span class='string val'>&quot;listing_only&quot;</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='rubyid_true true kw'>true</span> <span class='rubyid_if if_mod kw'>if</span> <span class='rubyid_params identifier id'>params</span><span class='lbrack token'>[</span><span class='string val'>&quot;listing_only&quot;</span><span class='rbrack token'>]</span>
  <span class='rubyid_search_params identifier id'>search_params</span><span class='lbrack token'>[</span><span class='string val'>&quot;include_components&quot;</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='rubyid_opts identifier id'>opts</span><span class='dot token'>.</span><span class='rubyid_has_key? fid id'>has_key?</span><span class='lparen token'>(</span><span class='string val'>&quot;include_components&quot;</span><span class='rparen token'>)</span> <span class='question op'>?</span> <span class='rubyid_opts identifier id'>opts</span><span class='lbrack token'>[</span><span class='string val'>&quot;include_components&quot;</span><span class='rbrack token'>]</span> <span class='colon op'>:</span> <span class='rubyid_params identifier id'>params</span><span class='lbrack token'>[</span><span class='string val'>&quot;include_components&quot;</span><span class='rbrack token'>]</span>

  <span class='rubyid_search_params identifier id'>search_params</span><span class='lbrack token'>[</span><span class='string val'>&quot;q&quot;</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='rubyid_opts identifier id'>opts</span><span class='lbrack token'>[</span><span class='string val'>&quot;q&quot;</span><span class='rbrack token'>]</span> <span class='orop op'>||</span> <span class='rubyid_params identifier id'>params</span><span class='lbrack token'>[</span><span class='string val'>&quot;q&quot;</span><span class='rbrack token'>]</span>

  <span class='comment val'># retain advanced search params</span>
  <span class='rubyid_if if kw'>if</span> <span class='rubyid_params identifier id'>params</span><span class='lbrack token'>[</span><span class='string val'>&quot;advanced&quot;</span><span class='rbrack token'>]</span>
    <span class='rubyid_search_params identifier id'>search_params</span><span class='lbrack token'>[</span><span class='string val'>&quot;advanced&quot;</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='rubyid_params identifier id'>params</span><span class='lbrack token'>[</span><span class='string val'>&quot;advanced&quot;</span><span class='rbrack token'>]</span>
    <span class='rubyid_params identifier id'>params</span><span class='dot token'>.</span><span class='rubyid_keys identifier id'>keys</span><span class='dot token'>.</span><span class='rubyid_each identifier id'>each</span> <span class='rubyid_do do kw'>do</span> <span class='bitor op'>|</span><span class='rubyid_param_key identifier id'>param_key</span><span class='bitor op'>|</span>
      <span class='lbrack token'>[</span><span class='string val'>&quot;op&quot;</span><span class='comma token'>,</span> <span class='string val'>&quot;f&quot;</span><span class='comma token'>,</span> <span class='string val'>&quot;v&quot;</span><span class='comma token'>,</span> <span class='string val'>&quot;dop&quot;</span><span class='comma token'>,</span> <span class='string val'>&quot;t&quot;</span><span class='comma token'>,</span> <span class='string val'>&quot;top&quot;</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='rubyid_each identifier id'>each</span> <span class='rubyid_do do kw'>do</span> <span class='bitor op'>|</span><span class='rubyid_adv_search_prefix identifier id'>adv_search_prefix</span><span class='bitor op'>|</span>
        <span class='rubyid_if if kw'>if</span> <span class='rubyid_param_key identifier id'>param_key</span> <span class='match op'>=~</span> <span class='dregexp node'>/^#{adv_search_prefix}\d+/</span>
          <span class='rubyid_search_params identifier id'>search_params</span><span class='lbrack token'>[</span><span class='rubyid_param_key identifier id'>param_key</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='rubyid_params identifier id'>params</span><span class='lbrack token'>[</span><span class='rubyid_param_key identifier id'>param_key</span><span class='rbrack token'>]</span>
        <span class='rubyid_end end kw'>end</span>
      <span class='rubyid_end end kw'>end</span>
    <span class='rubyid_end end kw'>end</span>
  <span class='rubyid_end end kw'>end</span>

  <span class='rubyid_search_params identifier id'>search_params</span><span class='dot token'>.</span><span class='rubyid_reject identifier id'>reject</span><span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='rubyid_k identifier id'>k</span><span class='comma token'>,</span><span class='rubyid_v identifier id'>v</span><span class='bitor op'>|</span> <span class='rubyid_k identifier id'>k</span><span class='dot token'>.</span><span class='rubyid_blank? fid id'>blank?</span> <span class='rubyid_or or kw'>or</span> <span class='rubyid_v identifier id'>v</span><span class='dot token'>.</span><span class='rubyid_blank? fid id'>blank?</span><span class='rbrace token'>}</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="can_delete_search_results?-instance_method">
  
    #<strong>can_delete_search_results?</strong>(record_type)  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'frontend/app/helpers/search_helper.rb', line 108</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_can_delete_search_results? fid id'>can_delete_search_results?</span><span class='lparen token'>(</span><span class='rubyid_record_type identifier id'>record_type</span><span class='rparen token'>)</span>
  <span class='rubyid_case case kw'>case</span> <span class='rubyid_record_type identifier id'>record_type</span>
  <span class='rubyid_when when kw'>when</span> <span class='string val'>&#39;accession&#39;</span><span class='comma token'>,</span> <span class='string val'>&#39;resource&#39;</span><span class='comma token'>,</span> <span class='string val'>&#39;digital_object&#39;</span>
    <span class='rubyid_user_can? fid id'>user_can?</span> <span class='string val'>&#39;delete_archival_record&#39;</span>
  <span class='rubyid_when when kw'>when</span> <span class='string val'>&#39;assessment&#39;</span>
    <span class='rubyid_user_can? fid id'>user_can?</span> <span class='string val'>&#39;delete_assessment_record&#39;</span>
  <span class='rubyid_when when kw'>when</span> <span class='string val'>&#39;subject&#39;</span>
    <span class='rubyid_user_can? fid id'>user_can?</span> <span class='string val'>&#39;delete_subject_record&#39;</span>
  <span class='rubyid_when when kw'>when</span> <span class='string val'>&#39;agent&#39;</span>
    <span class='rubyid_user_can? fid id'>user_can?</span> <span class='string val'>&#39;delete_agent_record&#39;</span>
  <span class='rubyid_when when kw'>when</span> <span class='string val'>&#39;location&#39;</span>
    <span class='rubyid_user_can? fid id'>user_can?</span> <span class='string val'>&#39;update_location_record&#39;</span>
  <span class='rubyid_when when kw'>when</span> <span class='string val'>&#39;classification&#39;</span>
    <span class='rubyid_user_can? fid id'>user_can?</span> <span class='string val'>&#39;delete_classification_record&#39;</span>
  <span class='rubyid_when when kw'>when</span> <span class='string val'>&#39;container_profile&#39;</span>
    <span class='rubyid_user_can? fid id'>user_can?</span> <span class='string val'>&#39;update_container_profile_record&#39;</span>
  <span class='rubyid_else else kw'>else</span>
    <span class='rubyid_false false kw'>false</span>
  <span class='rubyid_end end kw'>end</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="can_edit_search_result?-instance_method">
  
    #<strong>can_edit_search_result?</strong>(record)  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


93
94
95
96
97
98
99
100
101
102
103
104
105
106</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'frontend/app/helpers/search_helper.rb', line 93</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_can_edit_search_result? fid id'>can_edit_search_result?</span><span class='lparen token'>(</span><span class='rubyid_record identifier id'>record</span><span class='rparen token'>)</span>
  <span class='rubyid_return return kw'>return</span> <span class='rubyid_user_can? fid id'>user_can?</span><span class='lparen token'>(</span><span class='string val'>&#39;update_container_record&#39;</span><span class='comma token'>,</span> <span class='rubyid_record identifier id'>record</span><span class='lbrack token'>[</span><span class='string val'>&#39;id&#39;</span><span class='rbrack token'>]</span><span class='rparen token'>)</span> <span class='rubyid_if if_mod kw'>if</span> <span class='rubyid_record identifier id'>record</span><span class='lbrack token'>[</span><span class='string val'>&#39;primary_type&#39;</span><span class='rbrack token'>]</span> <span class='eqq op'>===</span> <span class='string val'>&quot;top_container&quot;</span>
  <span class='rubyid_return return kw'>return</span> <span class='rubyid_user_can? fid id'>user_can?</span><span class='lparen token'>(</span><span class='string val'>&#39;update_container_profile_record&#39;</span><span class='rparen token'>)</span> <span class='rubyid_if if_mod kw'>if</span> <span class='rubyid_record identifier id'>record</span><span class='lbrack token'>[</span><span class='string val'>&#39;primary_type&#39;</span><span class='rbrack token'>]</span> <span class='eqq op'>===</span> <span class='string val'>&quot;container_profile&quot;</span>
  <span class='rubyid_return return kw'>return</span> <span class='rubyid_user_can? fid id'>user_can?</span><span class='lparen token'>(</span><span class='string val'>&#39;manage_repository&#39;</span><span class='comma token'>,</span> <span class='rubyid_record identifier id'>record</span><span class='lbrack token'>[</span><span class='string val'>&#39;id&#39;</span><span class='rbrack token'>]</span><span class='rparen token'>)</span> <span class='rubyid_if if_mod kw'>if</span> <span class='rubyid_record identifier id'>record</span><span class='lbrack token'>[</span><span class='string val'>&#39;primary_type&#39;</span><span class='rbrack token'>]</span> <span class='eqq op'>===</span> <span class='string val'>&quot;repository&quot;</span>
  <span class='rubyid_return return kw'>return</span> <span class='rubyid_user_can? fid id'>user_can?</span><span class='lparen token'>(</span><span class='string val'>&#39;update_location_record&#39;</span><span class='rparen token'>)</span> <span class='rubyid_if if_mod kw'>if</span> <span class='rubyid_record identifier id'>record</span><span class='lbrack token'>[</span><span class='string val'>&#39;primary_type&#39;</span><span class='rbrack token'>]</span> <span class='eqq op'>===</span> <span class='string val'>&quot;location&quot;</span>
  <span class='rubyid_return return kw'>return</span> <span class='rubyid_user_can? fid id'>user_can?</span><span class='lparen token'>(</span><span class='string val'>&#39;update_subject_record&#39;</span><span class='rparen token'>)</span> <span class='rubyid_if if_mod kw'>if</span> <span class='rubyid_record identifier id'>record</span><span class='lbrack token'>[</span><span class='string val'>&#39;primary_type&#39;</span><span class='rbrack token'>]</span> <span class='eqq op'>===</span> <span class='string val'>&quot;subject&quot;</span>
  <span class='rubyid_return return kw'>return</span> <span class='rubyid_user_can? fid id'>user_can?</span><span class='lparen token'>(</span><span class='string val'>&#39;update_classification_record&#39;</span><span class='rparen token'>)</span> <span class='rubyid_if if_mod kw'>if</span> <span class='lbrack token'>[</span><span class='string val'>&quot;classification&quot;</span><span class='comma token'>,</span> <span class='string val'>&quot;classification_term&quot;</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='rubyid_include? fid id'>include?</span><span class='lparen token'>(</span><span class='rubyid_record identifier id'>record</span><span class='lbrack token'>[</span><span class='string val'>&#39;primary_type&#39;</span><span class='rbrack token'>]</span><span class='rparen token'>)</span>
  <span class='rubyid_return return kw'>return</span> <span class='rubyid_user_can? fid id'>user_can?</span><span class='lparen token'>(</span><span class='string val'>&#39;update_agent_record&#39;</span><span class='rparen token'>)</span> <span class='rubyid_if if_mod kw'>if</span> <span class='rubyid_Array constant id'>Array</span><span class='lparen token'>(</span><span class='rubyid_record identifier id'>record</span><span class='lbrack token'>[</span><span class='string val'>&#39;types&#39;</span><span class='rbrack token'>]</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='rubyid_include? fid id'>include?</span><span class='lparen token'>(</span><span class='string val'>&quot;agent&quot;</span><span class='rparen token'>)</span>

  <span class='rubyid_return return kw'>return</span> <span class='rubyid_user_can? fid id'>user_can?</span><span class='lparen token'>(</span><span class='string val'>&#39;update_accession_record&#39;</span><span class='rparen token'>)</span> <span class='rubyid_if if_mod kw'>if</span> <span class='rubyid_record identifier id'>record</span><span class='lbrack token'>[</span><span class='string val'>&#39;primary_type&#39;</span><span class='rbrack token'>]</span> <span class='eqq op'>===</span> <span class='string val'>&quot;accession&quot;</span>
  <span class='rubyid_return return kw'>return</span> <span class='rubyid_user_can? fid id'>user_can?</span><span class='lparen token'>(</span><span class='string val'>&#39;update_resource_record&#39;</span><span class='rparen token'>)</span> <span class='rubyid_if if_mod kw'>if</span> <span class='lbrack token'>[</span><span class='string val'>&quot;resource&quot;</span><span class='comma token'>,</span> <span class='string val'>&quot;archival_object&quot;</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='rubyid_include? fid id'>include?</span><span class='lparen token'>(</span><span class='rubyid_record identifier id'>record</span><span class='lbrack token'>[</span><span class='string val'>&#39;primary_type&#39;</span><span class='rbrack token'>]</span><span class='rparen token'>)</span>
  <span class='rubyid_return return kw'>return</span> <span class='rubyid_user_can? fid id'>user_can?</span><span class='lparen token'>(</span><span class='string val'>&#39;update_digital_object_record&#39;</span><span class='rparen token'>)</span> <span class='rubyid_if if_mod kw'>if</span> <span class='lbrack token'>[</span><span class='string val'>&quot;digital_object&quot;</span><span class='comma token'>,</span> <span class='string val'>&quot;digital_object_component&quot;</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='rubyid_include? fid id'>include?</span><span class='lparen token'>(</span><span class='rubyid_record identifier id'>record</span><span class='lbrack token'>[</span><span class='string val'>&#39;primary_type&#39;</span><span class='rbrack token'>]</span><span class='rparen token'>)</span>
  <span class='rubyid_return return kw'>return</span> <span class='rubyid_user_can? fid id'>user_can?</span><span class='lparen token'>(</span><span class='string val'>&#39;update_assessment_record&#39;</span><span class='rparen token'>)</span> <span class='rubyid_if if_mod kw'>if</span> <span class='rubyid_record identifier id'>record</span><span class='lbrack token'>[</span><span class='string val'>&#39;primary_type&#39;</span><span class='rbrack token'>]</span> <span class='eqq op'>===</span> <span class='string val'>&quot;assessment&quot;</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="column_opts-instance_method">
  
    #<strong>column_opts</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


348
349
350</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'frontend/app/helpers/search_helper.rb', line 348</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_column_opts identifier id'>column_opts</span>
  <span class='rubyid_@column_opts ivar id'>@column_opts</span> <span class='opasgn op'>||=</span> <span class='rubyid_SearchAndBrowseColumnConfig constant id'>SearchAndBrowseColumnConfig</span><span class='dot token'>.</span><span class='rubyid_columns identifier id'>columns</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="context_ancestor-instance_method">
  
    #<strong>context_ancestor</strong>(result)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'frontend/app/helpers/search_helper.rb', line 331</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_context_ancestor identifier id'>context_ancestor</span><span class='lparen token'>(</span><span class='rubyid_result identifier id'>result</span><span class='rparen token'>)</span>
  <span class='rubyid_case case kw'>case</span>
  <span class='rubyid_when when kw'>when</span> <span class='rubyid_result identifier id'>result</span><span class='lbrack token'>[</span><span class='string val'>&#39;ancestors&#39;</span><span class='rbrack token'>]</span>
    <span class='rubyid_ancestors identifier id'>ancestors</span> <span class='assign token'>=</span> <span class='rubyid_result identifier id'>result</span><span class='lbrack token'>[</span><span class='string val'>&#39;ancestors&#39;</span><span class='rbrack token'>]</span>
  <span class='rubyid_when when kw'>when</span> <span class='rubyid_result identifier id'>result</span><span class='lbrack token'>[</span><span class='string val'>&#39;linked_instance_uris&#39;</span><span class='rbrack token'>]</span>
    <span class='rubyid_ancestors identifier id'>ancestors</span> <span class='assign token'>=</span> <span class='rubyid_result identifier id'>result</span><span class='lbrack token'>[</span><span class='string val'>&#39;linked_instance_uris&#39;</span><span class='rbrack token'>]</span>
  <span class='rubyid_when when kw'>when</span> <span class='rubyid_result identifier id'>result</span><span class='lbrack token'>[</span><span class='string val'>&#39;linked_record_uris&#39;</span><span class='rbrack token'>]</span>
    <span class='rubyid_ancestors identifier id'>ancestors</span> <span class='assign token'>=</span> <span class='rubyid_result identifier id'>result</span><span class='lbrack token'>[</span><span class='string val'>&#39;linked_record_uris&#39;</span><span class='rbrack token'>]</span>
  <span class='rubyid_when when kw'>when</span> <span class='rubyid_result identifier id'>result</span><span class='lbrack token'>[</span><span class='string val'>&#39;primary_type&#39;</span><span class='rbrack token'>]</span> <span class='eq op'>==</span> <span class='string val'>&#39;top_container&#39;</span>
    <span class='rubyid_ancestors identifier id'>ancestors</span> <span class='assign token'>=</span> <span class='rubyid_Array constant id'>Array</span><span class='lparen token'>(</span><span class='rubyid_result identifier id'>result</span><span class='lbrack token'>[</span><span class='string val'>&#39;collection_uri_u_sstr&#39;</span><span class='rbrack token'>]</span><span class='rparen token'>)</span>
  <span class='rubyid_when when kw'>when</span> <span class='rubyid_result identifier id'>result</span><span class='lbrack token'>[</span><span class='string val'>&#39;primary_type&#39;</span><span class='rbrack token'>]</span> <span class='eq op'>==</span> <span class='string val'>&#39;digital_object_component&#39;</span>
    <span class='rubyid_ancestors identifier id'>ancestors</span> <span class='assign token'>=</span> <span class='rubyid_result identifier id'>result</span><span class='lbrack token'>[</span><span class='string val'>&#39;digital_object&#39;</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='rubyid_split identifier id'>split</span>
  <span class='rubyid_else else kw'>else</span>
    <span class='rubyid_ancestors identifier id'>ancestors</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='string val'>&#39;&#39;</span><span class='rbrack token'>]</span>
  <span class='rubyid_end end kw'>end</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="context_separator-instance_method">
  
    #<strong>context_separator</strong>(result)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


323
324
325
326
327
328
329</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'frontend/app/helpers/search_helper.rb', line 323</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_context_separator identifier id'>context_separator</span><span class='lparen token'>(</span><span class='rubyid_result identifier id'>result</span><span class='rparen token'>)</span>
  <span class='rubyid_if if kw'>if</span> <span class='rubyid_result identifier id'>result</span><span class='lbrack token'>[</span><span class='string val'>&#39;ancestors&#39;</span><span class='rbrack token'>]</span> <span class='orop op'>||</span> <span class='rubyid_result identifier id'>result</span><span class='lbrack token'>[</span><span class='string val'>&#39;linked_instance_uris&#39;</span><span class='rbrack token'>]</span>
    <span class='rubyid_@separator ivar id'>@separator</span> <span class='assign token'>=</span> <span class='string val'>&#39;&gt;&#39;</span>
  <span class='rubyid_else else kw'>else</span>
    <span class='rubyid_@separator ivar id'>@separator</span> <span class='assign token'>=</span> <span class='string val'>&#39;&lt;br /&gt;&#39;</span><span class='dot token'>.</span><span class='rubyid_html_safe identifier id'>html_safe</span>
  <span class='rubyid_end end kw'>end</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="deleted-instance_method">
  
    #<strong>deleted</strong>(record)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


308
309
310</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'frontend/app/helpers/search_helper.rb', line 308</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_deleted identifier id'>deleted</span><span class='lparen token'>(</span><span class='rubyid_record identifier id'>record</span><span class='rparen token'>)</span>
  <span class='rubyid_params identifier id'>params</span><span class='dot token'>.</span><span class='rubyid_has_key? fid id'>has_key?</span><span class='lparen token'>(</span><span class='string val'>&quot;deleted_uri&quot;</span><span class='rparen token'>)</span> <span class='rubyid_and and kw'>and</span> <span class='rubyid_Array constant id'>Array</span><span class='lparen token'>(</span><span class='rubyid_params identifier id'>params</span><span class='lbrack token'>[</span><span class='string val'>&quot;deleted_uri&quot;</span><span class='rbrack token'>]</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='rubyid_include? fid id'>include?</span><span class='lparen token'>(</span><span class='rubyid_record identifier id'>record</span><span class='lbrack token'>[</span><span class='string val'>&quot;id&quot;</span><span class='rbrack token'>]</span><span class='rparen token'>)</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="fields-instance_method">
  
    #<strong>fields</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


352
353
354
355</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'frontend/app/helpers/search_helper.rb', line 352</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_fields identifier id'>fields</span>
  <span class='rubyid_add_columns identifier id'>add_columns</span> <span class='rubyid_unless unless_mod kw'>unless</span> <span class='rubyid_@columns ivar id'>@columns</span>
  <span class='rubyid_@columns ivar id'>@columns</span><span class='dot token'>.</span><span class='rubyid_collect identifier id'>collect</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='rubyid_col identifier id'>col</span><span class='bitor op'>|</span> <span class='rubyid_col identifier id'>col</span><span class='dot token'>.</span><span class='rubyid_field identifier id'>field</span> <span class='rbrace token'>}</span><span class='dot token'>.</span><span class='rubyid_compact identifier id'>compact</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="get_ancestor_title-instance_method">
  
    #<strong>get_ancestor_title</strong>(field)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


312
313
314
315
316
317
318
319
320
321</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'frontend/app/helpers/search_helper.rb', line 312</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_get_ancestor_title identifier id'>get_ancestor_title</span><span class='lparen token'>(</span><span class='rubyid_field identifier id'>field</span><span class='rparen token'>)</span>
  <span class='rubyid_field_json identifier id'>field_json</span> <span class='assign token'>=</span> <span class='rubyid_JSONModel constant id'>JSONModel</span><span class='colon2 op'>::</span><span class='rubyid_HTTP constant id'>HTTP</span><span class='dot token'>.</span><span class='rubyid_get_json identifier id'>get_json</span><span class='lparen token'>(</span><span class='rubyid_field identifier id'>field</span><span class='rparen token'>)</span>
  <span class='rubyid_unless unless kw'>unless</span> <span class='rubyid_field_json identifier id'>field_json</span><span class='dot token'>.</span><span class='rubyid_nil? fid id'>nil?</span>
    <span class='rubyid_if if kw'>if</span> <span class='rubyid_field identifier id'>field</span><span class='dot token'>.</span><span class='rubyid_include? fid id'>include?</span><span class='lparen token'>(</span><span class='string val'>&#39;resources&#39;</span><span class='rparen token'>)</span> <span class='orop op'>||</span> <span class='rubyid_field identifier id'>field</span><span class='dot token'>.</span><span class='rubyid_include? fid id'>include?</span><span class='lparen token'>(</span><span class='string val'>&#39;digital_objects&#39;</span><span class='rparen token'>)</span>
      <span class='rubyid_clean_mixed_content identifier id'>clean_mixed_content</span><span class='lparen token'>(</span><span class='rubyid_field_json identifier id'>field_json</span><span class='lbrack token'>[</span><span class='string val'>&#39;title&#39;</span><span class='rbrack token'>]</span><span class='rparen token'>)</span>
    <span class='rubyid_else else kw'>else</span>
      <span class='rubyid_clean_mixed_content identifier id'>clean_mixed_content</span><span class='lparen token'>(</span><span class='rubyid_field_json identifier id'>field_json</span><span class='lbrack token'>[</span><span class='string val'>&#39;display_string&#39;</span><span class='rbrack token'>]</span><span class='rparen token'>)</span>
    <span class='rubyid_end end kw'>end</span>
  <span class='rubyid_end end kw'>end</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="identifier_for_search_result-instance_method">
  
    #<strong>identifier_for_search_result</strong>(result)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


21
22
23
24
25
26
27
28
29
30
31
32</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'frontend/app/helpers/search_helper.rb', line 21</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_identifier_for_search_result identifier id'>identifier_for_search_result</span><span class='lparen token'>(</span><span class='rubyid_result identifier id'>result</span><span class='rparen token'>)</span>
  <span class='rubyid_identifier identifier id'>identifier</span> <span class='assign token'>=</span> <span class='rubyid_IDENTIFIER_FOR_SEARCH_RESULT_LOOKUP constant id'>IDENTIFIER_FOR_SEARCH_RESULT_LOOKUP</span><span class='dot token'>.</span><span class='rubyid_fetch identifier id'>fetch</span><span class='lparen token'>(</span><span class='rubyid_result identifier id'>result</span><span class='lbrack token'>[</span><span class='string val'>&quot;primary_type&quot;</span><span class='rbrack token'>]</span><span class='comma token'>,</span> <span class='string val'>&quot;&quot;</span><span class='rparen token'>)</span>
  <span class='rubyid_unless unless kw'>unless</span> <span class='rubyid_identifier identifier id'>identifier</span><span class='dot token'>.</span><span class='rubyid_empty? fid id'>empty?</span>
    <span class='rubyid_if if kw'>if</span> <span class='rubyid_result identifier id'>result</span><span class='dot token'>.</span><span class='rubyid_has_key? fid id'>has_key?</span> <span class='rubyid_identifier identifier id'>identifier</span>
      <span class='rubyid_identifier identifier id'>identifier</span> <span class='assign token'>=</span> <span class='rubyid_result identifier id'>result</span><span class='lbrack token'>[</span><span class='rubyid_identifier identifier id'>identifier</span><span class='rbrack token'>]</span>
    <span class='rubyid_else else kw'>else</span>
      <span class='rubyid_json identifier id'>json</span>       <span class='assign token'>=</span> <span class='rubyid_ASUtils constant id'>ASUtils</span><span class='dot token'>.</span><span class='rubyid_json_parse identifier id'>json_parse</span><span class='lparen token'>(</span><span class='rubyid_result identifier id'>result</span><span class='lbrack token'>[</span><span class='string val'>&quot;json&quot;</span><span class='rbrack token'>]</span><span class='rparen token'>)</span>
      <span class='rubyid_identifier identifier id'>identifier</span> <span class='assign token'>=</span> <span class='rubyid_json identifier id'>json</span><span class='dot token'>.</span><span class='rubyid_fetch identifier id'>fetch</span><span class='lparen token'>(</span><span class='rubyid_identifier identifier id'>identifier</span><span class='comma token'>,</span> <span class='string val'>&quot;&quot;</span><span class='rparen token'>)</span>
    <span class='rubyid_end end kw'>end</span>
  <span class='rubyid_end end kw'>end</span>
  <span class='rubyid_identifier identifier id'>identifier</span><span class='dot token'>.</span><span class='rubyid_to_s identifier id'>to_s</span><span class='dot token'>.</span><span class='rubyid_html_safe identifier id'>html_safe</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="locales-instance_method">
  
    #<strong>locales</strong>(model)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'frontend/app/helpers/search_helper.rb', line 129</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_locales identifier id'>locales</span><span class='lparen token'>(</span><span class='rubyid_model identifier id'>model</span><span class='rparen token'>)</span>
  <span class='rubyid_case case kw'>case</span> <span class='rubyid_model identifier id'>model</span>
  <span class='rubyid_when when kw'>when</span> <span class='string val'>&#39;resource&#39;</span><span class='comma token'>,</span> <span class='string val'>&#39;archival_object&#39;</span>
    <span class='lbrace token'>{</span><span class='string val'>&#39;level&#39;</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&#39;archival_record_level&#39;</span><span class='comma token'>,</span> <span class='string val'>&#39;language&#39;</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&#39;language_iso639_2&#39;</span><span class='comma token'>,</span>
      <span class='string val'>&#39;processing_priority&#39;</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&#39;collection_management_processing_priority&#39;</span><span class='rbrace token'>}</span>
  <span class='rubyid_when when kw'>when</span> <span class='string val'>&#39;accession&#39;</span>
    <span class='lbrace token'>{</span><span class='string val'>&#39;processing_priority&#39;</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&#39;collection_management_processing_priority&#39;</span><span class='rbrace token'>}</span>
  <span class='rubyid_when when kw'>when</span> <span class='string val'>&#39;digital_object&#39;</span><span class='comma token'>,</span> <span class='string val'>&#39;digital_object_component&#39;</span>
    <span class='lbrace token'>{</span><span class='string val'>&#39;language&#39;</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&#39;language_iso639_2&#39;</span><span class='rbrace token'>}</span>
  <span class='rubyid_when when kw'>when</span> <span class='string val'>&#39;subject&#39;</span>
    <span class='lbrace token'>{</span><span class='string val'>&#39;source&#39;</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&#39;subject_source&#39;</span><span class='comma token'>,</span> <span class='string val'>&#39;first_term_type&#39;</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&#39;subject_term_type&#39;</span><span class='rbrace token'>}</span>
  <span class='rubyid_when when kw'>when</span> <span class='string val'>&#39;agent&#39;</span>
    <span class='lbrace token'>{</span><span class='string val'>&#39;source&#39;</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&#39;name_source&#39;</span><span class='comma token'>,</span> <span class='string val'>&#39;rules&#39;</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&#39;name_rule&#39;</span><span class='comma token'>,</span> <span class='string val'>&#39;primary_type&#39;</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&#39;agent.agent_type&#39;</span><span class='rbrace token'>}</span>
  <span class='rubyid_when when kw'>when</span> <span class='string val'>&#39;container_profile&#39;</span>
    <span class='lbrace token'>{</span><span class='string val'>&#39;container_profile_dimension_units_u_sstr&#39;</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&#39;dimension_units&#39;</span><span class='rbrace token'>}</span>
  <span class='rubyid_when when kw'>when</span> <span class='string val'>&#39;location_profile&#39;</span>
    <span class='lbrace token'>{</span><span class='string val'>&#39;location_profile_dimension_units_u_sstr&#39;</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&#39;dimension_units&#39;</span><span class='rbrace token'>}</span>
  <span class='rubyid_when when kw'>when</span> <span class='string val'>&#39;top_container&#39;</span>
    <span class='lbrace token'>{</span><span class='string val'>&#39;type&#39;</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&#39;container_type&#39;</span><span class='rbrace token'>}</span>
  <span class='rubyid_when when kw'>when</span> <span class='string val'>&#39;assessment&#39;</span>
    <span class='lbrace token'>{</span><span class='string val'>&#39;assessment_record_types&#39;</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&#39;_singular&#39;</span><span class='rbrace token'>}</span>
  <span class='rubyid_when when kw'>when</span> <span class='string val'>&#39;collection_management&#39;</span>
    <span class='lbrace token'>{</span><span class='string val'>&#39;parent_type&#39;</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&#39;_singular&#39;</span><span class='rbrace token'>}</span>
  <span class='rubyid_else else kw'>else</span>
    <span class='lbrace token'>{</span><span class='string val'>&#39;primary_type&#39;</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&#39;_singular&#39;</span><span class='rbrace token'>}</span>
  <span class='rubyid_end end kw'>end</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="multi_columns-instance_method">
  
    #<strong>multi_columns</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


261
262
263</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'frontend/app/helpers/search_helper.rb', line 261</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_multi_columns identifier id'>multi_columns</span>
  <span class='rubyid_column_opts identifier id'>column_opts</span><span class='lbrack token'>[</span><span class='string val'>&#39;multi&#39;</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='rubyid_collect identifier id'>collect</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='rubyid_col identifier id'>col</span><span class='comma token'>,</span> <span class='rubyid_opts identifier id'>opts</span><span class='bitor op'>|</span> <span class='rubyid_opts identifier id'>opts</span><span class='lbrack token'>[</span><span class='symbol val'>:sort_by</span><span class='rbrack token'>]</span> <span class='rbrace token'>}</span> <span class='plus op'>+</span> <span class='lbrack token'>[</span><span class='string val'>&#39;create_time&#39;</span><span class='comma token'>,</span> <span class='string val'>&#39;user_mtime&#39;</span><span class='rbrack token'>]</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="process-instance_method">
  
    #<strong>process</strong>(data, opts)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


195
196
197
198
199
200
201
202
203
204
205
206
207
208
209</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'frontend/app/helpers/search_helper.rb', line 195</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_process identifier id'>process</span><span class='lparen token'>(</span><span class='rubyid_data identifier id'>data</span><span class='comma token'>,</span> <span class='rubyid_opts identifier id'>opts</span><span class='rparen token'>)</span>
  <span class='rubyid_case case kw'>case</span> <span class='rubyid_opts identifier id'>opts</span><span class='lbrack token'>[</span><span class='symbol val'>:type</span><span class='rbrack token'>]</span>
  <span class='rubyid_when when kw'>when</span> <span class='string val'>&#39;boolean&#39;</span>
    <span class='rubyid_I18n constant id'>I18n</span><span class='dot token'>.</span><span class='rubyid_t identifier id'>t</span><span class='lparen token'>(</span><span class='dstring node'>&quot;boolean.#{data}&quot;</span><span class='comma token'>,</span> <span class='symbol val'>:default</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='rubyid_data identifier id'>data</span><span class='dot token'>.</span><span class='rubyid_to_s identifier id'>to_s</span><span class='rparen token'>)</span>
  <span class='rubyid_when when kw'>when</span> <span class='string val'>&#39;date&#39;</span>
    <span class='rubyid_Date constant id'>Date</span><span class='dot token'>.</span><span class='rubyid_parse identifier id'>parse</span><span class='lparen token'>(</span><span class='rubyid_data identifier id'>data</span><span class='rparen token'>)</span>
  <span class='rubyid_else else kw'>else</span>
    <span class='rubyid_if if kw'>if</span> <span class='rubyid_opts identifier id'>opts</span><span class='lbrack token'>[</span><span class='symbol val'>:locale_key</span><span class='rbrack token'>]</span> <span class='eq op'>==</span> <span class='string val'>&#39;_singular&#39;</span>
      <span class='rubyid_I18n constant id'>I18n</span><span class='dot token'>.</span><span class='rubyid_t identifier id'>t</span><span class='lparen token'>(</span><span class='dstring node'>&quot;#{data}._singular&quot;</span><span class='comma token'>,</span> <span class='symbol val'>:default</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='rubyid_data identifier id'>data</span><span class='dot token'>.</span><span class='rubyid_to_s identifier id'>to_s</span><span class='rparen token'>)</span>
    <span class='rubyid_else else kw'>else</span>
      <span class='rubyid_opts identifier id'>opts</span><span class='lbrack token'>[</span><span class='symbol val'>:locale_key</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='dstring node'>&quot;enumerations.#{opts[:locale_key]}&quot;</span> <span class='rubyid_unless unless_mod kw'>unless</span> <span class='rubyid_opts identifier id'>opts</span><span class='lbrack token'>[</span><span class='symbol val'>:locale_key</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='rubyid_include? fid id'>include?</span><span class='lparen token'>(</span><span class='string val'>&#39;.&#39;</span><span class='rparen token'>)</span>
      <span class='rubyid_I18n constant id'>I18n</span><span class='dot token'>.</span><span class='rubyid_t identifier id'>t</span><span class='lparen token'>(</span><span class='dstring node'>&quot;#{opts[:locale_key]}.#{data}&quot;</span><span class='comma token'>,</span> <span class='symbol val'>:default</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='rubyid_data identifier id'>data</span><span class='dot token'>.</span><span class='rubyid_to_s identifier id'>to_s</span><span class='rparen token'>)</span>
    <span class='rubyid_end end kw'>end</span>
  <span class='rubyid_end end kw'>end</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="sr_only-instance_method">
  
    #<strong>sr_only</strong>(text)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


281
282
283</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'frontend/app/helpers/search_helper.rb', line 281</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_sr_only identifier id'>sr_only</span><span class='lparen token'>(</span><span class='rubyid_text identifier id'>text</span><span class='rparen token'>)</span>
  <span class='lparen token'>(</span><span class='string val'>&#39;&lt;span class=&quot;sr-only&quot;&gt;&#39;</span> <span class='plus op'>+</span> <span class='rubyid_text identifier id'>text</span> <span class='plus op'>+</span> <span class='string val'>&#39;&lt;/span&gt;&#39;</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='rubyid_html_safe identifier id'>html_safe</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

      <div id="footer">
  ArchivesSpace Version v2.8.0-rc1.a Documentation Generated on Thu Jun 25 15:14:10 2020 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.20.
</div>

    </div>
  </body>
</html>