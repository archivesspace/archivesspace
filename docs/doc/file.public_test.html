<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  File: public_test
  
    &mdash; Documentation by YARD 0.9.20
  
</title>

  <link rel="stylesheet" href="css/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="css/common.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  pathId = "public_test";
  relpath = '';
</script>


  <script type="text/javascript" charset="utf-8" src="js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="file_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="alpha_index.html">Index</a> &raquo; 
    <span class="title">File: public_test</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><div id='filecontents'><h1 id="public-test-suite">Public test suite</h1>

<p>ArchivesSpaceâ€™s public interface uses <a href="http://docs.seleniumhq.org/">Selenium</a> to run automated browser tests. These tests can be run using <a href="https://firefox-source-docs.mozilla.org/testing/geckodriver/geckodriver/index.html">Firefox via geckodriver</a> and <a href="https://sites.google.com/a/chromium.org/chromedriver/home">Chrome</a> (either regular Chrome or headless).</p>

<p>Firefox is the default, and ArchivesSpace ships with the appropriate Firefox Webdriver executables for OSX and Linux.</p>

<p>To run using Chrome, you must first download the appropriate <a href="https://sites.google.com/a/chromium.org/chromedriver/downloads">ChromeDriver
executable</a>
and place it somewhere in your OS system path.  Mac users with Homebrew may accomplish this via <code>brew cask install chromedriver</code>. Then export a SELENIUM_CHROME environment variable, e.g:</p>

<pre class="code ruby"><code class="ruby"> $ <span class='rubyid_export identifier id'>export</span> <span class='rubyid_SELENIUM_CHROME constant id'>SELENIUM_CHROME</span><span class='assign token'>=</span><span class='rubyid_true true kw'>true</span>
</code></pre>

<p>or</p>

<pre class="code ruby"><code class="ruby"> $ <span class='rubyid_export identifier id'>export</span> <span class='rubyid_SELENIUM_HEADY_CHROME constant id'>SELENIUM_HEADY_CHROME</span><span class='assign token'>=</span><span class='rubyid_true true kw'>true</span>
</code></pre>

<p>When you run the tests (see below), a Chrome session will be launched in either headless or heady mode.</p>

<p><strong><em>Please note, you must have either Firefox or Chrome installed on your system to
run these tests. Consult the <a href="https://developer.mozilla.org/en-US/docs/Mozilla/QA/Marionette/WebDriver">Firefox WebDriver</a>
or <a href="https://sites.google.com/a/chromium.org/chromedriver/home">ChromeDriver</a>
documentation to ensure your Selenium, driver, browser, and OS versions all match
and support each other.  As of November 2018 only post-Quantum versions of Firefox (v. 57+) are supported via the built-in geckodriver.</em></strong></p>

<h2 id="before-running">Before running:</h2>

<p>Run the bootstrap build task to configure JRuby and all required dependencies:</p>

<pre class="code ruby"><code class="ruby"> $ <span class='rubyid_cd identifier id'>cd</span> <span class='dot2 op'>..</span>
 $ <span class='rubyid_build identifier id'>build</span><span class='div op'>/</span><span class='rubyid_run identifier id'>run</span> <span class='rubyid_bootstrap identifier id'>bootstrap</span>
</code></pre>

<p>Note: all example code assumes you are running from your ArchivesSpace project directory.</p>

<h2 id="running-the-tests">Running the tests:</h2>

<h3 id="run-the-full-suite">Run the full suite:</h3>

<pre class="code ruby"><code class="ruby"> $ <span class='rubyid_build identifier id'>build</span><span class='div op'>/</span><span class='rubyid_run identifier id'>run</span> <span class='label val'>public:</span><span class='rubyid_test identifier id'>test</span>
</code></pre>

<h3 id="run-all-tests-in-a-specific-spec-file">Run all tests in a specific spec file:</h3>

<pre class="code ruby"><code class="ruby"> $ <span class='rubyid_build identifier id'>build</span><span class='div op'>/</span><span class='rubyid_run identifier id'>run</span> <span class='label val'>public:</span><span class='rubyid_test identifier id'>test</span> <span class='minus op'>-</span><span class='rubyid_Dspec constant id'>Dspec</span><span class='assign token'>=</span><span class='string val'>&#39;path/to/spec/from/spec/directory&#39;</span>
</code></pre>

<p>so, for example,</p>

<pre class="code ruby"><code class="ruby"> $ <span class='rubyid_build identifier id'>build</span><span class='div op'>/</span><span class='rubyid_run identifier id'>run</span> <span class='label val'>public:</span><span class='rubyid_test identifier id'>test</span> <span class='minus op'>-</span><span class='rubyid_Dspec constant id'>Dspec</span><span class='assign token'>=</span><span class='string val'>&#39;features/accessibility_spec.rb&#39;</span>
</code></pre>

<h3 id="run-a-specific-test">Run a specific test:</h3>

<pre class="code ruby"><code class="ruby">$ <span class='rubyid_build identifier id'>build</span><span class='div op'>/</span><span class='rubyid_run identifier id'>run</span> <span class='label val'>public:</span><span class='rubyid_test identifier id'>test</span> <span class='minus op'>-</span><span class='rubyid_Dexample constant id'>Dexample</span><span class='assign token'>=</span><span class='string val'>&#39;[description from it block]&#39;</span>
</code></pre>

<p>so, for example,</p>

<pre class="code ruby"><code class="ruby">$ <span class='rubyid_build identifier id'>build</span><span class='div op'>/</span><span class='rubyid_run identifier id'>run</span> <span class='label val'>public:</span><span class='rubyid_test identifier id'>test</span> <span class='minus op'>-</span><span class='rubyid_Dexample constant id'>Dexample</span><span class='assign token'>=</span><span class='string val'>&#39;does not return deaccessions when AppConfig[:pui_display_deaccessions] is false&#39;</span>
</code></pre>

<p>Note, however, that some public tests are dependent on a sequence of ordered steps and may not always run cleanly in isolation.  In this case, more than the example provided may be run, and/or unexpected fails may result.</p>
</div></div>

      <div id="footer">
  ArchivesSpace Version 20190620-1804 Documentation Generated on Mon Nov  4 11:39:46 2019 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.20.
</div>

    </div>
  </body>
</html>