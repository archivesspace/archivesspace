<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Class: ArchivistsToolkit
  
    &mdash; Documentation by YARD 0.9.20
  
</title>

  <link rel="stylesheet" href="css/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="css/common.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  pathId = "ArchivistsToolkit";
  relpath = '';
</script>


  <script type="text/javascript" charset="utf-8" src="js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="alpha_index.html">Index (A)</a> &raquo;
    
    
    <span class="title">ArchivistsToolkit</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><h1>Class: ArchivistsToolkit
  
  
  
</h1>
<div class="box_info">
  
  <dl>
    <dt>Inherits:</dt>
    <dd>
      <span class="inheritName">Object</span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next">ArchivistsToolkit</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
    </dd>
  </dl>
  

  
  
  
  
  

  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>backend/app/lib/user_defined_field_migrator.rb</dd>
  </dl>
  
</div>










  
    <h2>
      Instance Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#find_matching_containers-instance_method" title="#find_matching_containers (instance method)">#<strong>find_matching_containers</strong>(column, record_ids, top_container)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#initialize-instance_method" title="#initialize (instance method)">#<strong>initialize</strong>(db)  &#x21d2; ArchivistsToolkit </a>
    

    
  </span>
  
  
    <span class="note title constructor">constructor</span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>A new instance of ArchivistsToolkit.</p>
</div></span>
  
</li>

      
    </ul>
  

<div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>
  
    <div class="method_details first">
  <h3 class="signature first" id="initialize-instance_method">
  
    #<strong>initialize</strong>(db)  &#x21d2; <tt><span class='object_link'><a href="" title="ArchivistsToolkit (class)">ArchivistsToolkit</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Returns a new instance of ArchivistsToolkit</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


388
389
390
391
392
393
394
395
396</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'backend/app/lib/user_defined_field_migrator.rb', line 388</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_initialize identifier id'>initialize</span><span class='lparen token'>(</span><span class='rubyid_db identifier id'>db</span><span class='rparen token'>)</span>
  <span class='rubyid_@db ivar id'>@db</span> <span class='assign token'>=</span> <span class='rubyid_db identifier id'>db</span>

  <span class='rubyid_@key_set ivar id'>@key_set</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span>
  <span class='rubyid_@value_set ivar id'>@value_set</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span>
  <span class='rubyid_@missing_user_defined_fields ivar id'>@missing_user_defined_fields</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span>

  <span class='rubyid_preload_instances identifier id'>preload_instances</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
  
</div>


  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="find_matching_containers-instance_method">
  
    #<strong>find_matching_containers</strong>(column, record_ids, top_container)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


399
400
401
402
403
404
405
406
407
408
409
410
411
412
413
414
415
416
417
418
419
420
421
422
423
424
425
426
427
428
429
430
431
432
433
434</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'backend/app/lib/user_defined_field_migrator.rb', line 399</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_find_matching_containers identifier id'>find_matching_containers</span><span class='lparen token'>(</span><span class='rubyid_column identifier id'>column</span><span class='comma token'>,</span> <span class='rubyid_record_ids identifier id'>record_ids</span><span class='comma token'>,</span> <span class='rubyid_top_container identifier id'>top_container</span><span class='rparen token'>)</span>
  <span class='rubyid_record_ids identifier id'>record_ids</span><span class='dot token'>.</span><span class='rubyid_map identifier id'>map</span> <span class='rubyid_do do kw'>do</span> <span class='bitor op'>|</span><span class='rubyid_record_id identifier id'>record_id</span><span class='bitor op'>|</span>

    <span class='rubyid_if if kw'>if</span> <span class='rubyid_column identifier id'>column</span> <span class='eq op'>==</span> <span class='symbol val'>:resourceId</span>
      <span class='rubyid_resource_id identifier id'>resource_id</span> <span class='assign token'>=</span> <span class='rubyid_record_id identifier id'>record_id</span>
      <span class='rubyid_resource_component_id identifier id'>resource_component_id</span> <span class='assign token'>=</span> <span class='rubyid_nil nil kw'>nil</span>
    <span class='rubyid_elsif elsif kw'>elsif</span> <span class='symbol val'>:resourceComponentId</span>
      <span class='rubyid_resource_id identifier id'>resource_id</span> <span class='assign token'>=</span> <span class='rubyid_nil nil kw'>nil</span>
      <span class='rubyid_resource_component_id identifier id'>resource_component_id</span> <span class='assign token'>=</span> <span class='rubyid_record_id identifier id'>record_id</span>
    <span class='rubyid_else else kw'>else</span>
      <span class='rubyid_raise identifier id'>raise</span> <span class='dstring node'>&quot;Unrecognized column: #{column}&quot;</span>
    <span class='rubyid_end end kw'>end</span>

    <span class='rubyid_if if kw'>if</span> <span class='rubyid_top_container identifier id'>top_container</span><span class='dot token'>.</span><span class='rubyid_barcode identifier id'>barcode</span>
      <span class='rubyid_barcode identifier id'>barcode</span> <span class='assign token'>=</span> <span class='rubyid_top_container identifier id'>top_container</span><span class='dot token'>.</span><span class='rubyid_barcode identifier id'>barcode</span>
      <span class='rubyid_indicator identifier id'>indicator</span> <span class='assign token'>=</span> <span class='rubyid_nil nil kw'>nil</span>
    <span class='rubyid_else else kw'>else</span>
      <span class='rubyid_barcode identifier id'>barcode</span> <span class='assign token'>=</span> <span class='rubyid_nil nil kw'>nil</span>
      <span class='rubyid_indicator identifier id'>indicator</span> <span class='assign token'>=</span> <span class='rubyid_top_container identifier id'>top_container</span><span class='dot token'>.</span><span class='rubyid_indicator identifier id'>indicator</span>
    <span class='rubyid_end end kw'>end</span>

    <span class='rubyid_search_key identifier id'>search_key</span> <span class='assign token'>=</span> <span class='rubyid_InstanceKey constant id'>InstanceKey</span><span class='dot token'>.</span><span class='rubyid_new identifier id'>new</span><span class='lparen token'>(</span><span class='rubyid_resource_id identifier id'>resource_id</span><span class='comma token'>,</span> <span class='rubyid_resource_component_id identifier id'>resource_component_id</span><span class='comma token'>,</span> <span class='rubyid_barcode identifier id'>barcode</span><span class='comma token'>,</span> <span class='rubyid_indicator identifier id'>indicator</span><span class='rparen token'>)</span>
    <span class='rubyid_search_key_bytes identifier id'>search_key_bytes</span> <span class='assign token'>=</span> <span class='rubyid_search_key identifier id'>search_key</span><span class='dot token'>.</span><span class='rubyid_to_bytes identifier id'>to_bytes</span>

    <span class='rubyid_value identifier id'>value</span> <span class='assign token'>=</span> <span class='rubyid_@key_set ivar id'>@key_set</span><span class='lbrack token'>[</span><span class='rubyid_search_key_bytes identifier id'>search_key_bytes</span><span class='rbrack token'>]</span>
    <span class='rubyid_if if kw'>if</span> <span class='rubyid_value identifier id'>value</span>
      <span class='rubyid_@value_set ivar id'>@value_set</span><span class='lbrack token'>[</span><span class='rubyid_value identifier id'>value</span><span class='rbrack token'>]</span>
    <span class='rubyid_elsif elsif kw'>elsif</span> <span class='rubyid_@missing_user_defined_fields ivar id'>@missing_user_defined_fields</span><span class='lbrack token'>[</span><span class='rubyid_search_key_bytes identifier id'>search_key_bytes</span><span class='rbrack token'>]</span>
      <span class='symbol val'>:no_data</span> <span class='comment val'># No problem here.  There was just no data to load.</span>
    <span class='rubyid_else else kw'>else</span>
      <span class='rubyid_Log constant id'>Log</span><span class='dot token'>.</span><span class='rubyid_debug identifier id'>debug</span><span class='lparen token'>(</span><span class='dstring node'>&quot;Not found: #{search_key.inspect}&quot;</span><span class='rparen token'>)</span>
      <span class='rubyid_nil nil kw'>nil</span>
    <span class='rubyid_end end kw'>end</span>

  <span class='rubyid_end end kw'>end</span><span class='dot token'>.</span><span class='rubyid_compact identifier id'>compact</span><span class='dot token'>.</span><span class='rubyid_uniq identifier id'>uniq</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

      <div id="footer">
  ArchivesSpace Version v2.8.0.a Documentation Generated on Thu Jul 16 10:07:14 2020 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.20.
</div>

    </div>
  </body>
</html>